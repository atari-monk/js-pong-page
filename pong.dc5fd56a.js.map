{"mappings":"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","sources":["src/js/pong/pong.js","src/js/engine/vector-2.js","src/js/engine/entity/entity.js","src/js/engine/entity/entity-v3.js","src/js/engine/ball/ball-v3.js","src/js/engine/game.js","src/js/engine/timer.js","src/js/engine/input-handler-empty.js","src/js/engine/keys-input-handler.js","src/js/engine/ball/ball-v4.js","src/js/engine/entity/render.js","src/js/engine/ball/ball-render.js","src/js/engine/wall-collision/floor-collision.js","src/js/engine/player/player.js","src/js/engine/player/player-keys-input.js","src/js/engine/ball-collision/rect-collision.js","src/js/engine/printer.js","src/js/engine/ball/point-count-v2.js","src/js/engine/player/player-render.js","src/js/engine/player/player-render-v2.js","src/js/engine/entity/bearing.js","src/js/engine/entity/renderer.js","src/js/engine/printer-v2.js","src/js/engine/entity/info-render.js","src/js/engine/player/player-mouse-input.js","src/js/engine/mouse-input-handler.js","src/js/engine/canvas-data.js","src/js/pong/menu.js","src/js/engine/game-v2.js","src/js/pong/pong-factory.js","src/js/engine/multi-canvas-data.js"],"sourcesContent":["'use strict';\r\n\r\nimport 'core-js/stable';\r\nimport 'regenerator-runtime/runtime';\r\nimport { Game2 } from '../engine/game-v2.js';\r\nimport { PongFactory } from './pong-factory.js';\r\nimport { MultiCanvasData } from '../engine/multi-canvas-data.js';\r\nimport { Menu } from './menu.js';\r\n\r\nconst box = document.querySelector(\".box\");\r\nconst pageX = document.getElementById(\"x\");\r\nconst pageY = document.getElementById(\"y\");\r\nconst btnOverlay = document.getElementById(\"btn-overlay\");\r\nconst overlay = document.getElementById(\"overlay\");\r\n\r\nfunction updateDisplay(event) {\r\n  pageX.innerText = event.pageX;\r\n  pageY.innerText = event.pageY;\r\n}\r\n\r\nbox.addEventListener(\"mousemove\", updateDisplay, false);\r\nbox.addEventListener(\"mouseenter\", updateDisplay, false);\r\nbox.addEventListener(\"mouseleave\", updateDisplay, false);\r\nbtnOverlay.addEventListener(\"click\", on, false);\r\noverlay.addEventListener(\"click\", off, false);\r\n\r\nfunction on() {\r\n  document.getElementById(\"overlay\").style.display = \"block\";\r\n}\r\n\r\nfunction off() {\r\n  document.getElementById(\"overlay\").style.display = \"none\";\r\n}\r\n\r\nconst menu = new Menu();\r\nmenu.setGameView();\r\nconst game = new Game2(new PongFactory(new MultiCanvasData()));\r\n\r\nconst btnStart = document.getElementById('btn-start');\r\nbtnStart.addEventListener(\"click\", startGame, false);\r\nconst btnReset = document.getElementById('btn-reset');\r\nbtnReset.addEventListener(\"click\", resetGame, false);\r\n\r\nfunction startGame() {\r\n  game.ball.start();\r\n}\r\nfunction resetGame() {\r\n  game.player1.reset();\r\n  game.player2.reset();\r\n  game.ball.reset();\r\n  game.pointCount.reset();\r\n}\r\n\r\nfunction animate(timestamp) {\r\n  game.update(timestamp);\r\n  game.draw();\r\n  requestAnimationFrame(animate);\r\n};\r\n\r\nanimate(0);","\r\nexport class Vector2 {\r\n\r\n  constructor(x, y) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n\r\n  mag() {\r\n    return Math.sqrt(this.x * this.x + this.y * this.y);\r\n  }\r\n\r\n  normalize() {\r\n    const mag = this.mag();\r\n    const nv = new Vector2();\r\n    nv.x = this.x / mag;\r\n    nv.y = this.y / mag;\r\n    return nv;\r\n  }\r\n\r\n  log() {\r\n    console.log(`(${this.x}, ${this.y})`);\r\n  }\r\n}","import { Vector2 } from \"../vector-2.js\";\r\n\r\nexport class Entity {\r\n  #initPos;\r\n\r\n  constructor(\r\n    gameSize,\r\n    position,\r\n    size,\r\n    speed,\r\n    inputHandler,\r\n    render,\r\n    printer,\r\n    textPos\r\n  ) {\r\n    this.gameSize = gameSize;\r\n    this.position = position;\r\n    this.#initPos = new Vector2(position.x, position.y);\r\n    this.size = size;\r\n    this.speed = speed;\r\n    this.inputHandler = inputHandler;\r\n    this.render = render;\r\n    this.printer = printer;\r\n    this.textPos = textPos;\r\n    this.color = \"green\";\r\n    this.infoColor = \"white\";\r\n    this.name = 'entity';\r\n  }\r\n\r\n  update(timer) {\r\n    this.inputHandler.handleInput(this);\r\n    this.position.y -= timer.deltaTime * this.speed.y;\r\n    this.#setConstraints();\r\n  }\r\n\r\n  reverseXSpeed() {\r\n    this.speed.x *= -1;\r\n  }\r\n\r\n  reverseYSpeed() {\r\n    this.speed.y *= -1;\r\n  }\r\n\r\n  #setConstraints() {\r\n    if (this.position.y <= this.size.y / 2) {\r\n      this.position.y = this.size.y / 2;\r\n    }\r\n    if (this.position.y >= this.gameSize.y - this.size.y / 2) {\r\n      this.position.y = this.gameSize.y - this.size.y / 2;\r\n    }\r\n  }\r\n\r\n  reset() {\r\n    this.position.x = this.#initPos.x;\r\n    this.position.y = this.#initPos.y;\r\n    this.speed.x = 0;\r\n    this.speed.y = 0;\r\n  }\r\n\r\n  draw(ctx) {\r\n    this.render.draw(ctx, this);\r\n    this.drawInfo();\r\n  }\r\n\r\n  drawInfo() {\r\n    const p = this.printer;\r\n    const data = this.getInfo();\r\n    for (let i = 0; i < data.length; i++) {\r\n      p?.print(`${data[i].join('   ')}`\r\n        , this.textPos.x, this.textPos.y + (i * 40) + 40, this.infoColor);\r\n    }\r\n  }\r\n\r\n  getInfo() {\r\n    return [\r\n      [\r\n        `${this.name} - size (${this.size.x.toFixed(0)}, ${this.size.y.toFixed(0)}), vel (${this.speed.x.toFixed(2)}, ${this.speed.y.toFixed(2)}), pos (${this.position.x.toFixed(0)}, ${this.position.y.toFixed(0)})`\r\n      ]\r\n    ];\r\n  }\r\n}","import { Entity } from \"./entity.js\";\r\n\r\nexport class EntityV3 extends Entity {\r\n  constructor(\r\n    gameSize,\r\n    position,\r\n    size,\r\n    speed,\r\n    inputHandler,\r\n    renderers,\r\n    printer,\r\n    textPos\r\n  ) {\r\n    super(gameSize, position, size, speed, inputHandler, renderers['graphics'], printer, textPos);\r\n  }\r\n\r\n  draw(ctx) {\r\n    this.renderers['graphics'].draw(ctx, this);\r\n  }\r\n\r\n  drawText(ctx) {\r\n    this.renderers['text'].draw(ctx, this);\r\n  }\r\n}","import { EntityV3 } from \"../entity/entity-v3.js\";\r\n\r\nexport class BallV3 extends EntityV3 {\r\n  constructor(\r\n    gameSize,\r\n    position,\r\n    size,\r\n    speed,\r\n    inputHandler,\r\n    renderers,\r\n    printer,\r\n    textPos,\r\n    wallCollision\r\n  ) {\r\n    super(gameSize, position, size, speed, inputHandler, renderers['graphics'], printer, textPos, wallCollision);\r\n    this.name = 'Ball';\r\n    this.wallCollision = wallCollision;\r\n    this.renderers = renderers;\r\n  }\r\n\r\n  update(timer) {\r\n    this.inputHandler?.handleInput(this);\r\n    this.#setPosition(timer);\r\n    this.wallCollision?.calculateCollision(this);\r\n  }\r\n\r\n  #setPosition(timer) {\r\n    this.position.x += timer.deltaTime * this.speed.x;\r\n    this.position.y += timer.deltaTime * this.speed.y;\r\n  }\r\n\r\n  getInfo() {\r\n    const info = super.getInfo();\r\n    info[0][0] = info[0][0].concat(`, wall (${this.wallCollision.log})`); \r\n    return info;\r\n  }\r\n}","import { BallV3 } from './ball/ball-v3.js';\r\n\r\nexport class Game {\r\n  constructor(gameFactory) {\r\n    this.gameFactory = gameFactory;\r\n    this.screen = gameFactory.screen;\r\n    this.timer = this.gameFactory.timer;\r\n    this.input = this.gameFactory.input;\r\n    this.ball = this.gameFactory.ball;\r\n    this.player1 = this.gameFactory.player1;\r\n    this.player2 = this.gameFactory.player2;\r\n    this.collisionLeft = this.gameFactory.collisionLeft;\r\n    this.collisionLeftRender = this.gameFactory.collisionLeftRender;\r\n    this.collisionRight = this.gameFactory.collisionRight;\r\n    this.collisionRightRender = this.gameFactory.collisionRightRender;\r\n    this.printer = this.gameFactory.printer;\r\n    this.pointCount = this.gameFactory.pointCount;\r\n    this.name = 'Game';\r\n  }\r\n\r\n  update(timestamp) {\r\n    this.timer.set(timestamp);\r\n    if (false) this.timer.log();\r\n    if (this.ball != null) this.ball.update(this.timer);\r\n    if (this.player1 != null) this.player1.update(this.timer);\r\n    if (this.player2 != null) this.player2.update(this.timer);\r\n    if (this.collisionLeft != null && this.ball != null && this.player1 != null)\r\n      this.collisionLeft.calculateCollision(this.player1, this.ball);\r\n    if (\r\n      this.collisionRight != null &&\r\n      this.ball != null &&\r\n      this.player2 != null\r\n    )\r\n      this.collisionRight.calculateCollision(this.player2, this.ball);\r\n    this.pointCount?.update();\r\n  }\r\n\r\n  draw() {\r\n    this._clearCtx();\r\n    if (this.ball != null) this.ball.draw(this.screen.gameCtx);\r\n    if (this.player1 != null) this.player1.draw(this.screen.gameCtx);\r\n    if (this.player2 != null) this.player2.draw(this.screen.gameCtx);\r\n    if (this.collisionLeftRender != null) this.collisionLeftRender.draw();\r\n    if (this.collisionRightRender != null) this.collisionRightRender.draw();\r\n    this.collisionLeft?.draw();\r\n    this.collisionRight?.draw();\r\n    this.pointCount?.draw();\r\n\r\n    this._drawPoints(this.screen.gameCtx);\r\n    if (this.ball instanceof BallV3) this.ball?.drawText(this.screen.textCtx);\r\n    this._print();\r\n  }\r\n\r\n  _clearCtx() {\r\n    this.screen.gameCtx.clearRect(0, 0, this.screen.gameSize.x, this.screen.gameSize.y);\r\n    this.screen.textCtx.clearRect(0, 0, this.screen.textSize.x, this.screen.textSize.y);\r\n  }\r\n\r\n  _print() {\r\n    const p = this.printer;\r\n    const data = this.getInfo();\r\n    for (let i = 0; i < data.length; i++) {\r\n      p?.print(`${data[i].join('     ')}`\r\n        , 5, 20 + i * 40, this.infoColor);\r\n    }\r\n  }\r\n\r\n  getInfo() {\r\n    return [\r\n      [\r\n        'test'\r\n      ]\r\n    ];\r\n  }\r\n\r\n  _drawPoints(ctx, isOn = false) {\r\n    if (!isOn) return;\r\n    ctx.fillStyle = 'white';\r\n    ctx.fillRect(this.screen.gameSize.x / 2 - .5, this.screen.gameSize.y / 2 - .5, 1, 1);\r\n  }\r\n}","export class Timer {\r\n  constructor() {\r\n    this.deltaTime = 0;\r\n    this.lastTime = 0;\r\n  }\r\n\r\n  set(timestamp) {\r\n    const delta = timestamp - this.lastTime;\r\n    if(delta < 20)\r\n      this.deltaTime = delta;\r\n    this.lastTime = timestamp;\r\n  }\r\n\r\n  log() {\r\n    console.log(this.deltaTime);\r\n  }\r\n}","\r\nexport class InputHandlerEmpty {\r\n    handleInput() {\r\n    }\r\n}\r\n","\r\nexport class KeysInputHandler {\r\n\r\n  constructor() {\r\n    this.keys = [];\r\n    window.addEventListener(\"keydown\", (e) => {\r\n      if (\r\n        (e.key === \"ArrowDown\" ||\r\n          e.key === \"ArrowUp\" ||\r\n          e.key === \"ArrowLeft\" ||\r\n          e.key === \"ArrowRight\") &&\r\n        this.keys.indexOf(e.key) === -1\r\n      ) {\r\n        this.keys.push(e.key);\r\n      }\r\n    });\r\n    window.addEventListener(\"keyup\", (e) => {\r\n      if (\r\n        e.key === \"ArrowDown\" ||\r\n        e.key === \"ArrowUp\" ||\r\n        e.key === \"ArrowLeft\" ||\r\n        e.key === \"ArrowRight\"\r\n      ) {\r\n        this.keys.splice(this.keys.indexOf(e.key), 1);\r\n      }\r\n    });\r\n  }\r\n}","import { BallV3 } from \"../ball/ball-v3.js\";\r\nimport { Vector2 } from \"../vector-2.js\";\r\n\r\nexport class BallV4 extends BallV3 {\r\n  #drawVect;\r\n  #cancelStart;\r\n\r\n  constructor(\r\n    gameSize,\r\n    position,\r\n    size,\r\n    speed,\r\n    inputHandler,\r\n    renderers,\r\n    printer,\r\n    textPos,\r\n    wallCollision,\r\n    bearing,\r\n    drawVect = false\r\n  ) {\r\n    super(gameSize, position, size, speed, inputHandler, renderers, printer, textPos, wallCollision);\r\n    this.bearing = bearing;\r\n    this.#setBearing();\r\n    this.#drawVect = drawVect;\r\n  }\r\n\r\n  #setBearing() {\r\n    this.bearing.position = this.position;\r\n    this.bearing.radius = 300;\r\n    this.bearing.rotatePolar(0);\r\n  }\r\n\r\n  draw(ctx) {\r\n    super.draw(ctx);\r\n    if (this.#drawVect === false) return;\r\n    this.bearing?.draw(ctx);\r\n    this.#drawSpeed(ctx);\r\n  }\r\n\r\n  #setBearingSpeed() {\r\n    const m = .3;\r\n    const dir = new Vector2(this.bearing.direction.x - this.bearing.position.x, this.bearing.direction.y - this.bearing.position.y);\r\n    const ndir = dir.normalize();\r\n    this.speed.x = ndir.x * m;\r\n    this.speed.y = ndir.y * m;\r\n  }\r\n\r\n  #drawSpeed(ctx) {\r\n    ctx.strokeStyle = 'white';\r\n    ctx.lineWidth = 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.position.x, this.position.y);\r\n    ctx.lineTo(this.position.x + this.speed.x * 400, this.position.y + this.speed.y * 400);\r\n    ctx.stroke();\r\n  }\r\n\r\n  start(delay = 2000) {\r\n    this.bearing?.getBallDir();\r\n    this.#cancelStart = setTimeout(() => {\r\n      this.#setBearingSpeed();\r\n    }, delay);\r\n  }\r\n\r\n  restart(delay = 2000) {\r\n    this.reset();\r\n    this.start(delay);\r\n  }\r\n\r\n  clearStart() {\r\n    clearTimeout(this.#cancelStart);\r\n  }\r\n}","\r\nexport class Render {\r\n\r\n  drawRect(ctx, x, y, size, col) {\r\n    ctx.fillStyle = col;\r\n    ctx.fillRect(\r\n      x - size / 2,\r\n      y - size / 2,\r\n      size,\r\n      size\r\n    );\r\n  }\r\n}","import { Render } from \"../entity/render.js\";\r\n\r\nexport class BallRender extends Render {\r\n\r\n  draw(ctx, ball) {\r\n    this.drawRect(ctx, ball.position.x, ball.position.y, ball.size.x, 'red');\r\n    // this.drawRect(ctx, ball.position.x, ball.position.y, 4, 'red');\r\n  }\r\n}","\r\nexport class FloorCollision {\r\n\r\n  constructor() {\r\n    this.log = '';\r\n  }\r\n\r\n  calculateCollision(ball) {\r\n    if (ball.size.x != ball.size.y)\r\n      throw 'This collider works only for rectangles!';\r\n\r\n    const ballSize = ball.size.x / 2;\r\n    const gameSize = ball.gameSize;\r\n\r\n    // if (ball.position.x <= ballSize) {\r\n    //   ball.position.x = ballSize;\r\n    //   this.log = 'left';\r\n    //   ball.reverseXSpeed();\r\n    // }\r\n    // if (ball.position.x >= gameSize.x - ballSize) {\r\n    //   ball.position.x = gameSize.x - ballSize;\r\n    //   this.log = 'right';\r\n    //   ball.reverseXSpeed();\r\n    // }\r\n    if (ball.position.y <= ballSize) {\r\n      ball.position.y = ballSize;\r\n      this.log = 'top';\r\n      ball.reverseYSpeed();\r\n    }\r\n    if (ball.position.y >= gameSize.y - ballSize) {\r\n      ball.position.y = gameSize.y - ballSize;\r\n      this.log = 'bottom';\r\n      ball.reverseYSpeed();\r\n    }\r\n  }\r\n}\r\n","import { Entity } from \"../entity/entity.js\";\r\n\r\nexport class Player extends Entity {\r\n\r\n  constructor(\r\n    gameSize,\r\n    position,\r\n    size,\r\n    speed,\r\n    inputHandler,\r\n    render,\r\n    printer,\r\n    textPos,\r\n    name = 'Player'\r\n  ) {\r\n    super(gameSize, position, size, speed, inputHandler, render, printer, textPos);\r\n    this.name = name;\r\n  }\r\n}","\r\nexport class PlayerKeysInput {\r\n\r\n  constructor(input) {\r\n    this.input = input;\r\n  }\r\n\r\n  handleInput(player) {\r\n    if (this.input.keys.indexOf(\"ArrowUp\") > -1) {\r\n      player.speed.y = 1;\r\n    } else if (this.input.keys.indexOf(\"ArrowDown\") > -1) {\r\n      player.speed.y = -1;\r\n    } else\r\n      player.speed.y = 0;\r\n  }\r\n}","import { Vector2 } from '../vector-2.js';\r\n\r\nexport class RectCollision {\r\n\r\n  constructor() {\r\n    this.playerLeftTop = new Vector2(0, 0);\r\n    this.ballLeftTop = new Vector2(0, 0);\r\n  }\r\n\r\n  calculateCollision(player, ball) {\r\n    this.playerLeftTop = new Vector2(\r\n      player.position.x - player.size.x / 2,\r\n      player.position.y - player.size.y / 2);\r\n    this.ballLeftTop = new Vector2(\r\n      ball.position.x - ball.size.x / 2,\r\n      ball.position.y - ball.size.y / 2);\r\n\r\n    if (this.playerLeftTop.x > this.ballLeftTop.x + ball.size.x\r\n      || this.playerLeftTop.x + player.size.x < this.ballLeftTop.x\r\n      || this.playerLeftTop.y > this.ballLeftTop.y + ball.size.y\r\n      || this.playerLeftTop.y + player.size.y < this.ballLeftTop.y) {\r\n      player.color = 'yellow';\r\n    } else {\r\n      player.color = 'red';\r\n      ball.reverseXSpeed();\r\n    }\r\n  }\r\n\r\n  draw() { }\r\n}\r\n","export class Printer {\r\n  constructor(ctx) {\r\n    this.ctx = ctx;\r\n    this.setPrint('left', 'normal 12px Arial');\r\n  }\r\n\r\n  setPrint(align, font) {\r\n    this.ctx.textAlign = align;\r\n    this.ctx.font = font;\r\n  }\r\n\r\n  print(text, x, y, color) {\r\n    this.ctx.fillStyle = color;\r\n    this.ctx.fillText(text, x, y);\r\n  }\r\n\r\n  printInLines(infoArray, color, dy, x0, y0) {\r\n    let y = y0;\r\n    infoArray.forEach(element => {\r\n      this.print(element, x0, y, color);\r\n      y += dy;\r\n    });\r\n  }\r\n}","import { Printer } from \"../printer.js\";\r\n\r\nexport class PointCount2 extends Printer {\r\n  #mid;\r\n  #inGame;\r\n  #size;\r\n  #ball;\r\n  #player1Points;\r\n  #player2Points;\r\n\r\n  constructor(views, ball) {\r\n    super(views.get('points').ctx);\r\n    this.#mid = views.get('points').size.x / 2;\r\n    this.#size = views.get('game').size;\r\n    this.#ball = ball;\r\n    this.reset();\r\n  }\r\n\r\n  update() {\r\n    if (this.#isPlayer2Score()) {\r\n      this.#scorePlayer2();\r\n    } else if (this.#isPlayer1Score()) {\r\n      this.#scorePlayer1();\r\n    } else if (this.#isGameOff()) {\r\n      this.#restart();\r\n    }\r\n  }\r\n\r\n  #isPlayer1Score() {\r\n    return this.#ball.position.x >= this.#size.x && this.#inGame;\r\n  }\r\n\r\n  #scorePlayer1() {\r\n    this.#inGame = false;\r\n    this.#player1Points += 1;\r\n  }\r\n\r\n  #isPlayer2Score() {\r\n    return this.#ball.position.x <= 0 && this.#inGame;\r\n  }\r\n\r\n  #scorePlayer2() {\r\n    this.#inGame = false;\r\n    this.#player2Points += 1;\r\n  }\r\n\r\n  #isGameOff() {\r\n    return this.#inGame === false;\r\n  }\r\n\r\n  #restart() {\r\n    this.#inGame = true;\r\n    this.#ball.restart();\r\n  }\r\n\r\n  draw() {\r\n    this.#setFont();\r\n    this.#printPlayer1Points();\r\n    this.#printDivider();\r\n    this.#printPlayer2Points();\r\n    this.#resetFont();\r\n  }\r\n\r\n  #setFont() {\r\n    this.setPrint('left', 'bold 46px Arial');\r\n  }\r\n\r\n  #printPlayer1Points() {\r\n    this.print(this.#player1Points, this.#mid - 80, 60, 'green');\r\n  }\r\n\r\n  #printDivider() {\r\n    this.print('-', this.#mid, 60, 'white');\r\n  }\r\n\r\n  #printPlayer2Points() {\r\n    this.print(this.#player2Points, this.#mid + 65, 60, 'blue');\r\n  }\r\n\r\n  #resetFont() {\r\n    this.setPrint('left', 'normal 12px Arial');\r\n  }  \r\n\r\n  reset() {\r\n    this.#ball.clearStart();\r\n    this.#inGame = true;\r\n    this.#player1Points = 0;\r\n    this.#player2Points = 0;\r\n  }\r\n}","export class PlayerRender {\r\n\r\n    draw(ctx, player) {\r\n        ctx.fillStyle = 'green';\r\n        ctx.fillRect(\r\n            player.position.x - player.size.x/2,\r\n            player.position.y - player.size.y/2,\r\n            player.size.x,\r\n            player.size.y\r\n        );\r\n    }\r\n}","\r\nexport class Player2Render {\r\n\r\n    draw(ctx, player) {\r\n        ctx.fillStyle = 'blue';\r\n        ctx.fillRect(\r\n            player.position.x - player.size.x / 2,\r\n            player.position.y - player.size.y / 2,\r\n            player.size.x,\r\n            player.size.y\r\n        );\r\n    }\r\n}","import { Vector2 } from \"../vector-2.js\";\r\n\r\nexport class Bearing {\r\n  #position;\r\n  #angle;\r\n  #radius;\r\n  #direction;\r\n\r\n  constructor() {\r\n    this.#position = new Vector2();\r\n    this.#direction = new Vector2();\r\n  }\r\n\r\n  /**\r\n   * @param {{ x: number; y: number; }} v\r\n   */\r\n  set position(v) {\r\n    this.#position.x = v.x;\r\n    this.#position.y = v.y;\r\n  }\r\n\r\n  /**\r\n   * @param {number} v\r\n   */\r\n  // set angle(v) {\r\n  //   this.#angle = v;\r\n  // }\r\n\r\n  /**\r\n   * @param {number} v\r\n   */\r\n  set radius(v) {\r\n    this.#radius = v;\r\n  }\r\n\r\n  get #rads() {\r\n    return this.#angle * (Math.PI / 180);\r\n  }\r\n\r\n  get direction() {\r\n    return this.#direction;\r\n  }\r\n\r\n  get position() {\r\n    return this.#position;\r\n  }\r\n\r\n  rotatePolar(angle) {\r\n    this.#angle = angle;\r\n    this.#direction.x = this.#position.x + this.#radius * Math.cos(this.#rads);\r\n    this.#direction.y = this.#position.y + this.#radius * Math.sin(this.#rads);\r\n  }\r\n\r\n  rotate(angle) {\r\n    this.#angle = angle;\r\n    const r0 = new Vector2(this.#direction.x - this.#position.x, this.#direction.y - this.#position.y)\r\n    const x1 = r0.x;\r\n    const y1 = r0.y;\r\n    const cos = Math.cos(this.#rads);\r\n    const sin = Math.sin(this.#rads);\r\n    const r = new Vector2(x1 * cos - y1 * sin, x1 * sin + y1 * cos);\r\n    this.#direction.x = r.x + this.#position.x;\r\n    this.#direction.y = r.y + this.#position.y;\r\n  }\r\n\r\n  draw(ctx) {\r\n    ctx.strokeStyle = 'orange';\r\n    ctx.lineWidth = 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(this.#position.x, this.#position.y);\r\n    ctx.lineTo(this.#direction.x, this.#direction.y);\r\n    ctx.stroke();\r\n  }\r\n\r\n  #getRightBallDir() {\r\n    this.rotatePolar(0);\r\n    this.#randomInt(0, 1) === 0 ?\r\n      this.rotate(this.#randomInt(-30, -5)) :\r\n      this.rotate(this.#randomInt(5, 30));\r\n  }\r\n\r\n  #getLeftBallDir() {\r\n    this.rotatePolar(0);\r\n    this.#randomInt(0, 1) === 0 ?\r\n      this.rotate(this.#randomInt(-150, -175)) :\r\n      this.rotate(this.#randomInt(-185, -210));\r\n  }\r\n\r\n  getBallDir() {\r\n    this.#randomInt(0, 1) === 0 ?\r\n      this.#getRightBallDir() :\r\n      this.#getLeftBallDir();\r\n  }\r\n\r\n  #randomInt(min, max) {\r\n    return Math.floor(Math.random() * (max - min + 1) + min);\r\n  }\r\n}","\r\nexport class Renderer {\r\n  constructor(\r\n    renders,\r\n    printer,\r\n    textPos\r\n  ) {\r\n    this.renders = renders;\r\n    this.printer = printer;\r\n    this.textPos = textPos;\r\n  }\r\n\r\n  draw(ctx, entity) {\r\n    this.renders.forEach(element => {\r\n      element.draw(ctx, entity);\r\n    });\r\n  }\r\n}","\r\nexport class PrinterV2 {\r\n  \r\n  setPrint(ctx, align, font) {\r\n    ctx.textAlign = align;\r\n    ctx.font = font;\r\n  }\r\n\r\n  print(ctx, text, x, y, color) {\r\n    ctx.fillStyle = color;\r\n    ctx.fillText(text, x, y);\r\n  }\r\n\r\n  printInLines(ctx, infoArray, color, dy, x0, y0) {\r\n    let y = y0;\r\n    infoArray.forEach(element => {\r\n      this.print(ctx, element, x0, y, color);\r\n      y += dy;\r\n    });\r\n  }\r\n}\r\n","import { PrinterV2 } from '../printer-v2.js'\r\n\r\nexport class InfoRender extends PrinterV2 {\r\n\r\n  draw(ctx, entity) {\r\n    const data = entity.getInfo();\r\n    for (let i = 0; i < data.length; i++) {\r\n      this.print(ctx, `${data[i].join('   ')}`\r\n        , entity.textPos.x, entity.textPos.y + (i * 40) + 40, entity.infoColor);\r\n    }\r\n  }\r\n}\r\n","\r\nexport class PlayerMouseInput {\r\n\r\n  constructor(input) {\r\n    this.input = input;\r\n  }\r\n\r\n  handleInput(player) {\r\n    if (this.input.movingUp) {\r\n      player.speed.y = 1;\r\n    } else if (this.input.movingDown) {\r\n      player.speed.y = -1;\r\n    } else if (this.input.still) {\r\n      player.speed.y = 0;\r\n    }\r\n    //player.position.y = this.input.coords.y/2;\r\n  }\r\n}\r\n","import { Vector2 } from \"./vector-2.js\";\r\n\r\nexport class MouseInputHandler {\r\n\r\n  #movingUp;\r\n  #movingDown;\r\n  #still;\r\n  #coords0;\r\n  #coords;\r\n  #printer;\r\n  #print;\r\n  #timer;\r\n  #pos;\r\n\r\n  get coords() {\r\n    return this.#coords;\r\n  }\r\n\r\n  get movingUp() {\r\n    return this.#movingUp;\r\n  }\r\n\r\n  get movingDown() {\r\n    return this.#movingDown;\r\n  }\r\n\r\n  get still() {\r\n    return this.#still;\r\n  }\r\n\r\n  constructor(printer, print = false, pos = null) {\r\n    this.#print = print;\r\n    this.#printer = printer;\r\n    document.addEventListener(\"mousemove\", this.#mouseMoveHandler.bind(this), false);\r\n    this.#coords0 = new Vector2();\r\n    this.#coords = new Vector2();\r\n    this.#movingUp = false;\r\n    this.#movingDown = false;\r\n    this.#still = true;\r\n    this.#pos = pos;\r\n  }\r\n\r\n  #mouseMoveHandler(e) {\r\n    clearTimeout(this.#timer);\r\n    this.#coords.x = e.screenX;\r\n    this.#coords.y = e.screenY;\r\n    if (this.#coords0.y - this.#coords.y >= 1) \r\n    { \r\n      this.#movingUp = true; \r\n      this.#movingDown = false;\r\n      this.#still = false;\r\n    }\r\n    else if (this.#coords0.y - this.#coords.y <= -1) \r\n    { \r\n      this.#movingUp = false;\r\n      this.#movingDown = true;\r\n      this.#still = false;\r\n    }\r\n    //console.log(`${this.#coords0.y - this.#coords.y}`);\r\n    this.#coords0.y = this.#coords.y;\r\n    this.#timer = setTimeout(this.#mouseStill.bind(this), 0)\r\n    // console.log(`down ${this.#movingDown}`);\r\n    // console.log(`still ${this.#still}`);\r\n  }\r\n\r\n  #mouseStill() {\r\n    this.#movingUp = false;\r\n    this.#movingDown = false;\r\n    this.#still = true;\r\n  }\r\n\r\n  draw() {\r\n    if (this.#print === false) return;\r\n    //this.#setFont();\r\n    this.#printMouse();\r\n    //this.#resetFont();\r\n  }\r\n\r\n  #setFont() {\r\n    this.#printer.setPrint('left', 'bold 26px Arial');\r\n  }\r\n\r\n  #printMouse() {\r\n    this.#printer.print(`Mouse: (${this.#coords.x}, ${this.#coords.y}), (up, down, still) - (${this.#movingUp}, ${this.#movingDown}, ${this.#still})`, this.#pos.x, this.#pos.y, 'white');\r\n  }\r\n\r\n  #resetFont() {\r\n    this.#printer.setPrint('left', 'normal 12px Arial');\r\n  }\r\n}\r\n","\r\nexport class CanvasData {\r\n  #canvasId;\r\n  #size;\r\n  #canvas;\r\n  #ctx;\r\n\r\n  constructor(canvasId, size) {\r\n    this.#canvasId = canvasId;\r\n    this.#size = size;\r\n  }\r\n\r\n  get canvasId() {\r\n    return this.#canvasId;\r\n  }\r\n\r\n  get size() {\r\n    return this.#size;\r\n  }\r\n\r\n  get canvas() {\r\n    return this.#canvas;\r\n  }\r\n\r\n  get ctx() {\r\n    return this.#ctx;\r\n  }\r\n\r\n  setCanvas() {\r\n    this.#canvas = document.getElementById(this.#canvasId);\r\n    this.#canvas.width = this.#size.x;\r\n    this.#canvas.height = this.#size.y;\r\n    this.#ctx = this.#canvas.getContext('2d');\r\n  }\r\n}","'use strict';\r\n\r\nconst hide = 'hide';\r\nconst selectGame = 'select-controls-game';\r\nconst selectPlayer = 'select-controls-player';\r\nconst menuContainer = 'menu-container';\r\nconst menuButtons = 'menu-btns';\r\nconst btnStart = 'btn-start';\r\nconst btnReset = 'btn-reset';\r\nconst btnOverlay = 'btn-overlay';\r\n\r\nexport class Menu {\r\n  #menuContainer;\r\n  #menuBtns;\r\n  #btnStart;\r\n  #btnReset;\r\n  #btnOverlay;\r\n  #selectConstrols;\r\n  #callback;\r\n\r\n  static get hide() { return hide;}\r\n  static get selectGame() { return selectGame;}\r\n  static get selectPlayer() { return selectPlayer;}\r\n  static get menuContainer() { return menuContainer; }\r\n  static get btnStart() { return btnStart; }\r\n  static get btnReset() { return btnReset; }\r\n  static get btnOverlay() { return btnOverlay; }\r\n\r\n  constructor(onControlsChange) {\r\n    this.#callback = onControlsChange;\r\n    this.#menuContainer = document.getElementById(menuContainer);\r\n    this.#menuBtns = document.getElementById(menuButtons);\r\n    this.#btnStart = document.getElementById(btnStart);\r\n    this.#btnReset = document.getElementById(btnReset);\r\n    this.#btnOverlay = document.getElementById(btnOverlay);\r\n    this.#setSelectGetters();\r\n    this.#selectConstrols = document.getElementById('select-controls-container');\r\n  }\r\n\r\n  #setSelectGetters() {\r\n    HTMLSelectElement.prototype.__defineGetter__(\"val\", function () {\r\n      return this.options[this.selectedIndex].value;\r\n    });\r\n    HTMLSelectElement.prototype.__defineGetter__(\"text\", function () {\r\n      return this.options[this.selectedIndex].text;\r\n    });\r\n  }\r\n\r\n  setPlayerView(onControlsChange) {\r\n    this.#callback(this.#selectConstrols.childNodes[3].val);\r\n    this.#btnStart.classList.add(hide);\r\n    this.#btnReset.classList.add(hide);\r\n    this.#btnOverlay.classList.add(hide);\r\n    this.#selectConstrols.classList.add(selectPlayer);\r\n    this.#setSelectConstorls(onControlsChange);\r\n  }\r\n\r\n  setGameView() {\r\n    this.#menuContainer.classList.remove(hide);\r\n    this.#menuBtns.classList.remove(hide);\r\n    this.#btnStart.classList.remove(hide);\r\n    this.#btnReset.classList.remove(hide);\r\n    this.#btnOverlay.classList.remove(hide);\r\n  }\r\n\r\n  hide() {\r\n    this.#btnStart.classList.add(hide);\r\n    this.#btnReset.classList.add(hide);\r\n    this.#btnOverlay.classList.add(hide);\r\n    this.#selectConstrols.classList.add(hide);\r\n  }\r\n\r\n  #setSelectConstorls() {\r\n    this.#selectConstrols.addEventListener('change', (e) => {\r\n      this.#callback(e.target.value);\r\n    });\r\n  }\r\n}\r\n","import { Game } from './game.js';\r\nimport { BallV3 } from './ball/ball-v3.js';\r\n\r\nexport class Game2 extends Game {\r\n\r\n  #print;\r\n\r\n  constructor(gameFactory, print = true) {\r\n    super(gameFactory);\r\n    this.#print = print;\r\n    this.views = gameFactory.views;\r\n    this.infoCanvas = this.views.get('info');\r\n    this.gameCanvas = this.views.get('game');\r\n    this.pointsCanvas = this.views.get('points');\r\n  }\r\n\r\n  draw() {\r\n    this._clearCtx();\r\n    if (this.ball != null) this.ball.draw(this.gameCanvas.ctx);\r\n    if (this.player1 != null) this.player1.draw(this.gameCanvas.ctx);\r\n    if (this.player2 != null) this.player2.draw(this.gameCanvas.ctx);\r\n    if (this.collisionLeftRender != null) this.collisionLeftRender.draw();\r\n    if (this.collisionRightRender != null) this.collisionRightRender.draw();\r\n    this.collisionLeft?.draw();\r\n    this.collisionRight?.draw();\r\n    this.pointCount?.draw();\r\n\r\n    this._drawPoints(this.gameCanvas.ctx);\r\n    if (this.ball instanceof BallV3) this.ball?.drawText(this.infoCanvas.ctx);\r\n    if (this.input?.draw) this.input?.draw();\r\n    this.#print ? this._print() : {};\r\n  }\r\n\r\n  getInfo() {\r\n    return [\r\n      [\r\n        `${this.name} - game-canvas (${this.gameCanvas.size.x}, ${this.gameCanvas.size.y}), info-canvas (${this.infoCanvas.size.x}, ${this.infoCanvas.size.y}), points-canvas (${this.pointsCanvas.size.x}, ${this.pointsCanvas.size.y})`\r\n      ]\r\n    ];\r\n  }\r\n\r\n  _clearCtx() {\r\n    this.gameCanvas.ctx.clearRect(0, 0, this.gameCanvas.size.x, this.gameCanvas.size.y);\r\n    this.infoCanvas.ctx.clearRect(0, 0, this.infoCanvas.size.x, this.infoCanvas.size.y);\r\n    this.pointsCanvas.ctx.clearRect(0, 0, this.pointsCanvas.size.x, this.pointsCanvas.size.y);\r\n  }\r\n}","import { Timer } from \"../engine/timer.js\";\r\nimport { Vector2 } from \"../engine/vector-2.js\";\r\nimport { InputHandlerEmpty } from \"../engine/input-handler-empty.js\";\r\nimport { KeysInputHandler } from \"../engine/keys-input-handler.js\";\r\nimport { BallV4 } from \"../engine/ball/ball-v4.js\";\r\nimport { BallRender } from \"../engine/ball/ball-render.js\";\r\nimport { FloorCollision } from \"../engine/wall-collision/floor-collision.js\";\r\nimport { Player } from \"../engine/player/player.js\";\r\nimport { PlayerKeysInput } from \"../engine/player/player-keys-input.js\";\r\nimport { RectCollision } from \"../engine/ball-collision/rect-collision.js\";\r\nimport { PointCount2 } from \"../engine/ball/point-count-v2.js\";\r\nimport { PlayerRender } from \"../engine/player/player-render.js\";\r\nimport { Player2Render } from \"../engine/player/player-render-v2.js\";\r\nimport { Printer } from \"../engine/printer.js\";\r\nimport { Bearing } from \"../engine/entity/bearing.js\";\r\nimport { Renderer } from \"../engine/entity/renderer.js\";\r\nimport { InfoRender } from \"../engine/entity/info-render.js\";\r\nimport { PlayerMouseInput } from \"../engine/player/player-mouse-input.js\";\r\nimport { MouseInputHandler } from \"../engine/mouse-input-handler.js\";\r\n\r\nexport class PongFactory {\r\n  constructor(views) {\r\n    this.views = views;\r\n    this.infoCanvas = views.get('info');\r\n    this.gameCanvas = views.get('game');\r\n    this.timer = new Timer();\r\n    this.printer = new Printer(this.infoCanvas.ctx);\r\n    this.input = new KeysInputHandler();\r\n    this.mouseInput = new MouseInputHandler(this.printer);\r\n    this.bearing = new Bearing();\r\n\r\n    this.renderers = {\r\n      'graphics': new Renderer(\r\n        [new BallRender()//, new DirectionRender()\r\n        ]),\r\n      'text': new Renderer([new InfoRender()])\r\n    };\r\n\r\n    this.ball = new BallV4(\r\n      this.gameCanvas.size,\r\n      new Vector2(this.gameCanvas.size.x / 2, this.gameCanvas.size.y / 2),\r\n      new Vector2(10, 10),\r\n      new Vector2(0, 0),\r\n      new InputHandlerEmpty()\r\n      , this.renderers\r\n      , this.printer\r\n      , new Vector2(5, 5)\r\n      , new FloorCollision()\r\n      , this.bearing\r\n    );\r\n\r\n    this.player1 = new Player(\r\n      this.gameCanvas.size,\r\n      new Vector2(10, this.gameCanvas.size.y / 2),\r\n      new Vector2(10, 100),\r\n      new Vector2(0, 0)\r\n      , new PlayerKeysInput(this.input)\r\n      , new PlayerRender()\r\n      , this.printer\r\n      , new Vector2(5, 30)\r\n      , 'Green'\r\n    );\r\n\r\n    this.player2 = new Player(\r\n      this.gameCanvas.size,\r\n      new Vector2(this.gameCanvas.size.x - 10, this.gameCanvas.size.y / 2),\r\n      new Vector2(10, 100),\r\n      new Vector2(0, 0)\r\n      , new PlayerMouseInput(this.mouseInput)\r\n      , new Player2Render()\r\n      , this.printer\r\n      , new Vector2(5, 55)\r\n      , 'Blue'\r\n    );\r\n\r\n    this.collisionLeft = new RectCollision();\r\n    this.collisionRight = new RectCollision();\r\n    this.pointCount = new PointCount2(this.views, this.ball);\r\n  }\r\n}","import { CanvasData } from './canvas-data.js';\r\nimport { Vector2 } from './vector-2.js';\r\n\r\nexport class MultiCanvasData {\r\n  #key;\r\n  #data;\r\n\r\n  constructor() {\r\n    this.#key = \"laptop\";\r\n    this.#data = new Map();\r\n    this.#init();\r\n  }\r\n\r\n  #init() {\r\n    this.#add('laptop-game',\r\n      new CanvasData(\r\n        'game-canvas',\r\n        new Vector2(800, 600)));\r\n\r\n    this.#add('laptop-info',\r\n      new CanvasData(\r\n        'info-canvas',\r\n        new Vector2(650, 500)));\r\n\r\n    this.#add('laptop-points',\r\n      new CanvasData(\r\n        'points-canvas',\r\n        new Vector2(800, 90)));\r\n\r\n    this.#add('phone-game',\r\n      new CanvasData(\r\n        'game-canvas',\r\n        new Vector2(300, 300)));\r\n\r\n    this.#add('phone-info',\r\n      new CanvasData(\r\n        'info-canvas',\r\n        new Vector2(500, 500)));\r\n\r\n    this.#add('phone-points',\r\n      new CanvasData(\r\n        'points-canvas',\r\n        new Vector2(300, 90)));\r\n\r\n    this.get('game').setCanvas();\r\n    this.get('info').setCanvas();\r\n    this.get('points').setCanvas();\r\n  }\r\n\r\n  #add(id, canvasData) {\r\n    this.#data.set(id, canvasData);\r\n  }\r\n\r\n  get(name) {\r\n    return this.#data.get(`${this.#key}-${name}`);\r\n  }\r\n}"],"names":["parcelRequire","$d70316a6624f97ad$export$c977b3e384af9ae1","constructor","x","y","this","mag","Math","sqrt","normalize","nv","log","console","$db66411ee626ebf2$export$bc644a473284d944","initPos","gameSize","position","size","speed","inputHandler","render","printer","textPos","color","infoColor","name","update","timer","handleInput","deltaTime","setConstraints","reverseXSpeed","reverseYSpeed","reset","draw","ctx","drawInfo","p","data","getInfo","i","length","print","join","toFixed","$19a6fdda0539b4b0$export$bb6128256e450d57","renderers","super","drawText","$de4f6cf5c1392042$export$d9d3d6299ea1a309","wallCollision","setPosition","calculateCollision","info","concat","$ba252004c39b4a58$export$985739bfa5723e08","gameFactory","screen","input","ball","player1","player2","collisionLeft","collisionLeftRender","collisionRight","collisionRightRender","pointCount","timestamp","set","_clearCtx","gameCtx","_drawPoints","textCtx","_print","clearRect","textSize","isOn","fillStyle","fillRect","$ab3d881720504dd4$export$c57e9b2d8b9e4de","lastTime","delta","$2206db82dedcde12$export$1765e58655818273","$43384781123344f3$export$e9bcac4d908bd660","keys","window","addEventListener","e","key","indexOf","push","splice","$3b1b1cd8c1872240$export$b1e33141c791fcb6","drawVect","cancelStart","bearing","setBearing","radius","rotatePolar","drawSpeed","setBearingSpeed","ndir","direction","strokeStyle","lineWidth","beginPath","moveTo","lineTo","stroke","start","delay","getBallDir","setTimeout","restart","clearStart","clearTimeout","$369bfaae3fb8137c$export$160ae30d75f98247","drawRect","col","$7b2d20395d701e1b$export$959a3d5818b9c156","$4f6c1eff56424b91$export$3e1d741c9cfd59a3","ballSize","$ed572433d9c8eafa$export$2616165974278734","$b8023f69a91613ed$export$ce0cb91b21f1eeb3","player","$95f778eb83c94e96$export$a1235289821ba569","playerLeftTop","ballLeftTop","$c45ade8dc93d5d6d$export$ff97ddd7b62e4930","setPrint","align","font","textAlign","text","fillText","printInLines","infoArray","dy","x0","y0","forEach","element","$be7cf66998bdcc08$export$9e2e4c6b4d5881c8","mid","inGame","player1Points","player2Points","views","get","isPlayer2Score","scorePlayer2","isPlayer1Score","scorePlayer1","isGameOff","setFont","printPlayer1Points","printDivider","printPlayer2Points","resetFont","$58c18a7d44171f48$export$7ef3b3b8beb8aeb2","$7111b3cd7739c38c$export$8ace26b8509a682f","$9755ba7aa2acada3$export$f88bb0d3c5e79c40","angle","v","rads","PI","cos","sin","rotate","r0","x1","y1","r","getRightBallDir","randomInt","getLeftBallDir","min","max","floor","random","$1d58146c58ce77f5$export$88530751e3977073","renders","entity","$82b4f0900886d5ef$export$9c8e495a69b85903","$295fa19942aa7bd5$export$691c2cafdbdfcf4","$460d6d2d2a7905f4$export$d1a1c4e51a4037e8","movingUp","movingDown","still","$7cefc040a21fb335$export$b224ad559dcba4bd","coords0","coords","pos","document","mouseMoveHandler","bind","screenX","screenY","mouseStill","printMouse","$6d9958fa14cad325$export$79b2296d3374d147","canvasId","canvas","setCanvas","getElementById","width","height","getContext","$910e3d5baecfdb79$var$hide","$910e3d5baecfdb79$var$selectPlayer","$910e3d5baecfdb79$var$menuContainer","$910e3d5baecfdb79$var$btnStart","$910e3d5baecfdb79$var$btnReset","$910e3d5baecfdb79$var$btnOverlay","$2f29622cdb8f996a$var$box","querySelector","$2f29622cdb8f996a$var$pageX","$2f29622cdb8f996a$var$pageY","$2f29622cdb8f996a$var$btnOverlay","$2f29622cdb8f996a$var$overlay","$2f29622cdb8f996a$var$updateDisplay","event","innerText","pageX","pageY","style","display","menuContainer","menuBtns","btnStart","btnReset","btnOverlay","selectConstrols","callback","hide","selectGame","selectPlayer","onControlsChange","setSelectGetters","HTMLSelectElement","prototype","__defineGetter__","options","selectedIndex","value","setPlayerView","childNodes","val","classList","add","setSelectConstorls","setGameView","remove","target","$2f29622cdb8f996a$var$game","infoCanvas","gameCanvas","pointsCanvas","mouseInput","graphics","Map","init","id","canvasData","$2f29622cdb8f996a$var$animate","requestAnimationFrame"],"version":3,"file":"pong.dc5fd56a.js.map"}